<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>9.6&nbsp;聚类</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Racket&#25351;&#21335;</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="intro.html" class="tocviewlink" data-pltdoc="x">&#27426;&#36814;&#26469;&#21040;Racket!</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="to-scheme.html" class="tocviewlink" data-pltdoc="x">Racket&#27010;&#35201;</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="datatypes.html" class="tocviewlink" data-pltdoc="x">&#20869;&#32622;&#30340;&#25968;&#25454;&#31867;&#22411;</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="scheme-forms.html" class="tocviewlink" data-pltdoc="x">&#34920;&#36798;&#24335;&#21644;&#23450;&#20041;</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="define-struct.html" class="tocviewlink" data-pltdoc="x">&#33258;&#23450;&#20041;&#30340;&#25968;&#25454;&#31867;&#22411;</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="modules.html" class="tocviewlink" data-pltdoc="x">&#27169;&#22359;</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="contracts.html" class="tocviewlink" data-pltdoc="x">&#21512;&#32422;</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="i_o.html" class="tocviewlink" data-pltdoc="x">&#36755;&#20837;&#21644;&#36755;&#20986;</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="regexp.html" class="tocviewselflink" data-pltdoc="x">&#27491;&#21017;&#34920;&#36798;&#24335;</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="control.html" class="tocviewlink" data-pltdoc="x">&#24322;&#24120;&#19982;&#25511;&#21046;</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="for.html" class="tocviewlink" data-pltdoc="x">&#36845;&#20195;&#21644;&#25512;&#23548;</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="match.html" class="tocviewlink" data-pltdoc="x">&#27169;&#24335;&#21305;&#37197;</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="classes.html" class="tocviewlink" data-pltdoc="x">&#31867;&#21644;&#23545;&#35937;</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="units.html" class="tocviewlink" data-pltdoc="x">&#21333;&#20803;</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="reflection.html" class="tocviewlink" data-pltdoc="x">&#21453;&#23556;&#21644;&#21160;&#24577;&#27714;&#20540;</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="macros.html" class="tocviewlink" data-pltdoc="x">&#23439;</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="languages.html" class="tocviewlink" data-pltdoc="x">&#21019;&#36896;&#35821;&#35328;</a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" data-pltdoc="x">&#24182;&#21457;&#19982;&#21516;&#27493;</a></td></tr><tr><td align="right">19&nbsp;</td><td><a href="performance.html" class="tocviewlink" data-pltdoc="x">&#24615;&#33021;</a></td></tr><tr><td align="right">20&nbsp;</td><td><a href="parallelism.html" class="tocviewlink" data-pltdoc="x">&#24182;&#34892;</a></td></tr><tr><td align="right">21&nbsp;</td><td><a href="running.html" class="tocviewlink" data-pltdoc="x">&#36816;&#34892;&#21644;&#21019;&#24314;&#21487;&#25191;&#34892;&#31243;&#24207;</a></td></tr><tr><td align="right">22&nbsp;</td><td><a href="More_Libraries.html" class="tocviewlink" data-pltdoc="x">&#26356;&#22810;&#30340;&#24211;</a></td></tr><tr><td align="right">23&nbsp;</td><td><a href="dialects.html" class="tocviewlink" data-pltdoc="x">Racket&#21644;Scheme&#30340;&#26041;&#35328;</a></td></tr><tr><td align="right">24&nbsp;</td><td><a href="other-editors.html" class="tocviewlink" data-pltdoc="x">&#21629;&#20196;&#34892;&#24037;&#20855;&#21644;&#20320;&#30340;&#32534;&#36753;&#22120;&#36873;&#25321;</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>9&nbsp;</td><td><a href="regexp.html" class="tocviewlink" data-pltdoc="x">&#27491;&#21017;&#34920;&#36798;&#24335;</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">9.1&nbsp;</td><td><a href="regexp-intro.html" class="tocviewlink" data-pltdoc="x">&#20889;regexp&#27169;&#24335;</a></td></tr><tr><td align="right">9.2&nbsp;</td><td><a href="regexp-match.html" class="tocviewlink" data-pltdoc="x">&#21305;&#37197;&#27491;&#21017;&#34920;&#36798;&#24335;&#27169;&#24335;</a></td></tr><tr><td align="right">9.3&nbsp;</td><td><a href="regexp-assert.html" class="tocviewlink" data-pltdoc="x">&#22522;&#26412;&#30003;&#26126;</a></td></tr><tr><td align="right">9.4&nbsp;</td><td><a href="regexp-chars.html" class="tocviewlink" data-pltdoc="x">&#23383;&#31526;&#21644;&#23383;&#31526;&#31867;</a></td></tr><tr><td align="right">9.5&nbsp;</td><td><a href="regexp-quant.html" class="tocviewlink" data-pltdoc="x">&#37327;&#35789;</a></td></tr><tr><td align="right">9.6&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">&#32858;&#31867;</a></td></tr><tr><td align="right">9.7&nbsp;</td><td><a href="regexp-alternation.html" class="tocviewlink" data-pltdoc="x">&#26367;&#20195;</a></td></tr><tr><td align="right">9.8&nbsp;</td><td><a href="Backtracking.html" class="tocviewlink" data-pltdoc="x">&#22238;&#28335;</a></td></tr><tr><td align="right">9.9&nbsp;</td><td><a href="Looking-Ahead-and-Behind.html" class="tocviewlink" data-pltdoc="x">&#21069;&#21518;&#26597;&#25214;</a></td></tr><tr><td align="right">9.10&nbsp;</td><td><a href="An-Extended-Example.html" class="tocviewlink" data-pltdoc="x">&#19968;&#20010;&#25193;&#23637;&#31034;&#20363;</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>9.6&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">&#32858;&#31867;</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">9.6.1&nbsp;</td><td><a href="#%28part._.Backreferences%29" class="tocviewlink" data-pltdoc="x">&#21518;&#21521;&#24341;&#29992;</a></td></tr><tr><td align="right">9.6.2&nbsp;</td><td><a href="#%28part._.Non-capturing-.Clusters%29" class="tocviewlink" data-pltdoc="x">&#38750;&#25429;&#25417;&#31751;</a></td></tr><tr><td align="right">9.6.3&nbsp;</td><td><a href="#%28part._regexp-cloister%29" class="tocviewlink" data-pltdoc="x">&#22238;&#24266;</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">9.6.1<tt>&nbsp;</tt></span><a href="#%28part._.Backreferences%29" class="tocsubseclink" data-pltdoc="x">&#21518;&#21521;&#24341;&#29992;</a></td></tr><tr><td><span class="tocsublinknumber">9.6.2<tt>&nbsp;</tt></span><a href="#%28part._.Non-capturing-.Clusters%29" class="tocsubseclink" data-pltdoc="x">&#38750;&#25429;&#25417;&#31751;</a></td></tr><tr><td><span class="tocsublinknumber">9.6.3<tt>&nbsp;</tt></span><a href="#%28part._regexp-cloister%29" class="tocsubseclink" data-pltdoc="x">&#22238;&#24266;</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="regexp-quant.html" title="backward to &quot;9.5 量词&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="regexp.html" title="up to &quot;9 正则表达式&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="regexp-alternation.html" title="forward to &quot;9.7 替代&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>9.6<tt>&nbsp;</tt><a name="(part._regexp-clusters)"></a>&#32858;&#31867;</h4><p><a name="(tech._~e8~81~9a~e7~b1~bb~ef~bc~88clustering~ef~bc~89)"></a><span style="font-style: italic">&#32858;&#31867;&#65288;Clustering&#65289;</span>&#8212;&#8212;&#25991;&#20869;&#30340;&#25324;&#21495;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">(</span><span class="hspace"></span></span>...<span class="RktInBG"><span class="hspace"></span><span class="RktIn">)</span><span class="hspace"></span></span>&#8212;&#8212;&#30830;&#23450;&#23553;&#38381;<a name="(tech._~e5~ad~90~e6~a8~a1~e5~bc~8f~ef~bc~88subpattern~ef~bc~89)"></a><span style="font-style: italic">&#23376;&#27169;&#24335;&#65288;subpattern&#65289;</span>&#20316;&#20026;&#19968;&#20010;&#21333;&#19968;&#30340;&#23454;&#20307;&#12290;&#23427;&#20351;&#21305;&#37197;&#21435;&#25429;&#33719;<a name="(tech._~e5~ad~90~e5~8c~b9~e9~85~8d~e9~a1~b9~ef~bc~88submatch~ef~bc~89)"></a><span style="font-style: italic">&#23376;&#21305;&#37197;&#39033;&#65288;submatch&#65289;</span>&#65292;&#25110;&#23383;&#31526;&#20018;&#30340;&#19968;&#37096;&#20998;&#21305;&#37197;&#23376;&#27169;&#24335;&#65292;&#38500;&#20102;&#25972;&#20307;&#21305;&#37197;&#20043;&#22806;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"([a-z]+) ([0-9]+), ([0-9]+)"</span><span class="hspace">&nbsp;</span><span class="RktVal">"jan 1, 1970"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("jan 1, 1970" "jan" "1" "1970")</span></p></td></tr></table></blockquote><p>&#32858;&#31867;&#20063;&#23548;&#33268;&#20197;&#19979;&#37327;&#35789;&#23545;&#24453;&#25972;&#20010;&#23553;&#38381;&#30340;&#27169;&#24335;&#20316;&#20026;&#19968;&#20010;&#23454;&#20307;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"(pu )*"</span><span class="hspace">&nbsp;</span><span class="RktVal">"pu pu platter"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("pu pu " "pu ")</span></p></td></tr></table></blockquote><p>&#36820;&#22238;&#30340;&#21305;&#37197;&#39033;&#25968;&#37327;&#24635;&#26159;&#31561;&#20110;&#25351;&#23450;&#30340;&#27491;&#21017;&#34920;&#36798;&#24335;&#23376;&#27169;&#24335;&#30340;&#25968;&#37327;&#65292;&#21363;&#20351;&#19968;&#20010;&#29305;&#23450;&#30340;&#23376;&#27169;&#24335;&#24688;&#22909;&#21305;&#37197;&#22810;&#20010;&#23376;&#23383;&#31526;&#20018;&#25110;&#26681;&#26412;&#27809;&#26377;&#23376;&#20018;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"([a-z ]+;)*"</span><span class="hspace">&nbsp;</span><span class="RktVal">"lather; rinse; repeat;"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("lather; rinse; repeat;" " repeat;")</span></p></td></tr></table></blockquote><p>&#22312;&#36825;&#37324;&#65292;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">*</span><span class="hspace"></span></span>&#37327;&#21270;&#23376;&#27169;&#24335;&#21305;&#37197;&#30340;&#19977;&#27425;&#65292;&#20294;&#36825;&#26159;&#36820;&#22238;&#30340;&#26368;&#21518;&#19968;&#20010;&#21305;&#37197;&#39033;&#12290;</p><p>&#23545;&#19968;&#20010;&#37327;&#21270;&#30340;&#27169;&#24335;&#26469;&#35828;&#19981;&#21305;&#37197;&#20063;&#26159;&#21487;&#33021;&#30340;&#65292;&#29978;&#33267;&#26159;&#23545;&#25972;&#20010;&#27169;&#24335;&#21305;&#37197;&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#22833;&#36133;&#30340;&#21305;&#37197;&#39033;&#36890;&#36807;<span class="RktVal">#f</span>&#20307;&#29616;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">date-re</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">match </span><span class="RktCmt">&lsquo;</span><span class="RktCmt">month year</span><span class="RktCmt">'</span><span class="RktCmt"> or </span><span class="RktCmt">&lsquo;</span><span class="RktCmt">month day, year</span><span class="RktCmt">'</span><span class="RktCmt">;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">subpattern matches day, if present</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">#rx"([a-z]+) +([0-9]+,)? *([0-9]+)"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">date-re</span><span class="hspace">&nbsp;</span><span class="RktVal">"jan 1, 1970"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("jan 1, 1970" "jan" "1," "1970")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">date-re</span><span class="hspace">&nbsp;</span><span class="RktVal">"jan 1970"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("jan 1970" "jan" #f "1970")</span></p></td></tr></table></blockquote><h5>9.6.1<tt>&nbsp;</tt><a name="(part._.Backreferences)"></a>&#21518;&#21521;&#24341;&#29992;</h5><p><font class="badlink"><span class="techoutside"><span class="techinside">&#23376;&#21305;&#37197;&#65288;Submatch&#65289;</span></span></font>&#21487;&#29992;&#20110;&#25554;&#20837;&#23383;&#31526;&#20018;&#21442;&#25968;&#30340;<span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-replace</span></span></span>&#21644;<span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-replace*</span></span></span>&#31243;&#24207;&#12290;&#25554;&#20837;&#30340;&#23383;&#31526;&#20018;&#21487;&#20197;&#20351;&#29992;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\</span><span class="hspace"></span></span><span style="font-style: italic">n</span>&#20026;<a name="(tech._~e5~90~8e~e5~90~91~e5~bc~95~e7~94~a8~ef~bc~88backreference~ef~bc~89)"></a><span style="font-style: italic">&#21518;&#21521;&#24341;&#29992;&#65288;backreference&#65289;</span>&#36820;&#22238;&#31532;<span style="font-style: italic">n</span>&#20010;&#21305;&#37197;&#39033;&#65292;&#36825;&#26159;&#23376;&#23383;&#31526;&#20018;&#65292;&#23427;&#21305;&#37197;&#31532;<span style="font-style: italic">n</span>&#20010;&#23376;&#27169;&#24335;&#12290;&#19968;&#20010;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\0</span><span class="hspace"></span></span>&#24341;&#29992;&#25972;&#20010;&#21305;&#37197;&#65292;&#23427;&#20063;&#21487;&#20197;&#25351;&#23450;&#20026;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\&amp;</span><span class="hspace"></span></span>&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-replace</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"_(.+?)_"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"the _nina_, the _pinta_, and the _santa maria_"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"*\\1*"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"the *nina*, the _pinta_, and the _santa maria_"</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-replace*</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"_(.+?)_"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"the _nina_, the _pinta_, and the _santa maria_"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"*\\1*"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"the *nina*, the *pinta*, and the *santa maria*"</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-replace</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#px"(\\S+) (\\S+) (\\S+)"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"eat to live"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"\\3 \\2 \\1"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"live to eat"</span></p></td></tr></table></blockquote><p>&#20351;&#29992;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\\</span><span class="hspace"></span></span>&#22312;&#25554;&#20837;&#23383;&#31526;&#20018;&#25351;&#23450;&#36716;&#20041;&#31526;&#12290;&#21516;&#26102;&#65292;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\$</span><span class="hspace"></span></span>&#20195;&#34920;&#31354;&#23383;&#31526;&#20018;&#65292;&#24182;&#19988;&#23545;&#20174;&#32039;&#38543;&#20854;&#21518;&#30340;&#25968;&#23383;&#20998;&#31163;&#21518;&#21521;&#24341;&#29992;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\</span><span class="hspace"></span></span><span style="font-style: italic">n</span>&#26159;&#26377;&#29992;&#30340;&#12290;</p><p>&#21453;&#21521;&#24341;&#29992;&#20063;&#21487;&#20197;&#29992;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">#px</span><span class="hspace"></span></span>&#27169;&#24335;&#20197;&#36820;&#22238;&#27169;&#24335;&#20013;&#30340;&#19968;&#20010;&#24050;&#32463;&#21305;&#37197;&#30340;&#23376;&#27169;&#24335;&#12290;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\</span><span class="hspace"></span></span><span style="font-style: italic">n</span>&#20195;&#34920;&#31532;<span style="font-style: italic">n</span>&#20010;&#23376;&#21305;&#37197;&#30340;&#31934;&#30830;&#37325;&#22797;&#12290;&#27880;&#24847;&#36825;&#20010;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\0</span><span class="hspace"></span></span>&#65292;&#23427;&#22312;&#25554;&#20837;&#23383;&#31526;&#20018;&#26159;&#26377;&#29992;&#30340;&#65292;&#22312;regexp&#27169;&#24335;&#20869;&#27809;&#26377;&#36947;&#29702;&#65292;&#22240;&#20026;&#25972;&#20010;&#27491;&#21017;&#34920;&#36798;&#24335;&#19981;&#21305;&#37197;&#32780;&#26080;&#27861;&#22238;&#21040;&#23427;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#px"([a-z]+) and \\1"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"billions and billions"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("billions and billions" "billions")</span></p></td></tr></table></blockquote><p>&#27880;&#24847;&#65292;<a href="#%28tech._~e5~90~8e~e5~90~91~e5~bc~95~e7~94~a8~ef~bc~88backreference~ef~bc~89%29" class="techoutside" data-pltdoc="x"><span class="techinside">&#21518;&#21521;&#24341;&#29992;&#65288;backreference&#65289;</span></a>&#19981;&#26159;&#31616;&#21333;&#22320;&#37325;&#22797;&#20197;&#21069;&#30340;&#23376;&#27169;&#24335;&#12290;&#32780;&#36825;&#26159;&#19968;&#20010;&#29305;&#21035;&#30340;&#34987;&#23376;&#27169;&#24335;&#25152;&#21305;&#37197;&#30340;&#23376;&#20018;&#30340;&#37325;&#22797;&#12290;</p><p>&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;<a href="#%28tech._~e5~90~8e~e5~90~91~e5~bc~95~e7~94~a8~ef~bc~88backreference~ef~bc~89%29" class="techoutside" data-pltdoc="x"><span class="techinside">&#21518;&#21521;&#24341;&#29992;&#65288;backreference&#65289;</span></a>&#21482;&#33021;&#21305;&#37197;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">billions</span><span class="hspace"></span></span>&#12290;&#23427;&#19981;&#20250;&#21305;&#37197;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">millions</span><span class="hspace"></span></span>&#65292;&#21363;&#20351;&#23376;&#27169;&#24335;&#36861;&#28335;&#21040;&#8212;&#8212;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">([a-z]+)</span><span class="hspace"></span></span>&#8212;&#8212;&#36825;&#26679;&#20570;&#20250;&#27809;&#26377;&#38382;&#39064;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#px"([a-z]+) and \\1"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"billions and millions"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote><p>&#19979;&#38754;&#30340;&#31034;&#20363;&#26631;&#35760;&#25968;&#23383;&#23383;&#31526;&#20018;&#20013;&#25152;&#26377;&#31435;&#21363;&#37325;&#22797;&#30340;&#27169;&#24335;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-replace*</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#px"(\\d+)\\1"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"123340983242432420980980234"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"{\\1,\\1}"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"12{3,3}40983{24,24}3242{098,098}0234"</span></p></td></tr></table></blockquote><p>&#19979;&#38754;&#30340;&#31034;&#20363;&#20462;&#27491;&#20102;&#20004;&#20010;&#23383;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-replace*</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#px"\\b(\\S+) \\1\\b"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">string-append</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"now is the the time for all good men to "</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"to come to the aid of of the party"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"\\1"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"now is the time for all good men to come to the aid of the party"</span></p></td></tr></table></blockquote><h5>9.6.2<tt>&nbsp;</tt><a name="(part._.Non-capturing-.Clusters)"></a>&#38750;&#25429;&#25417;&#31751;</h5><p>&#23427;&#36890;&#24120;&#38656;&#35201;&#25351;&#23450;&#19968;&#20010;&#31751;&#65288;&#36890;&#24120;&#20026;&#37327;&#21270;&#65289;&#20294;&#19981;&#35302;&#21457;<font class="badlink"><span class="techoutside"><span class="techinside">&#23376;&#21305;&#37197;&#65288;submatch&#65289;</span></span></font>&#39033;&#30340;&#20449;&#24687;&#25429;&#25417;&#12290;&#36825;&#31181;&#31751;&#31216;&#20026;<a name="(tech._~e9~9d~9e~e6~8d~95~e6~8d~89~ef~bc~88non._capturing~ef~bc~89)"></a><span style="font-style: italic">&#38750;&#25429;&#25417;&#65288;non-capturing&#65289;</span>&#12290;&#35201;&#21019;&#24314;&#38750;&#31751;&#65292;&#35831;&#20351;&#29992;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">(?:</span><span class="hspace"></span></span>&#20197;&#20195;&#26367;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">(</span><span class="hspace"></span></span>&#20316;&#20026;&#31751;&#24320;&#21551;&#22120;&#12290;</p><p>&#22312;&#19979;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;&#19968;&#20010;&#38750;&#31751;&#28040;&#38500;&#20102;&#8220;&#30446;&#24405;&#8221;&#37096;&#20998;&#30340;&#19968;&#20010;&#32473;&#23450;&#30340;UNIX&#36335;&#24452;&#21517;&#65292;&#24182;&#33719;&#21462;&#31751;&#26631;&#35782;&#12290;</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>&#20294;&#19981;&#35201;&#29992;&#27491;&#21017;&#34920;&#36798;&#24335;&#35299;&#26512;&#36335;&#24452;&#12290;&#20351;&#29992;&#35832;&#22914;<span class="RktSym"><span class="badlink"><span class="RktValLink">split-path</span></span></span>&#20043;&#31867;&#30340;&#20989;&#25968;&#20195;&#26367;&#12290;</p></blockquote></blockquote></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"^(?:[a-z]*/)*([a-z]+)$"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"/usr/local/bin/racket"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("/usr/local/bin/racket" "racket")</span></p></td></tr></table></blockquote><h5>9.6.3<tt>&nbsp;</tt><a name="(part._regexp-cloister)"></a>&#22238;&#24266;</h5><p>&#19968;&#20010;&#38750;&#25429;&#25417;&#31751;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">?</span><span class="hspace"></span></span>&#21644;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">:</span><span class="hspace"></span></span>&#20043;&#38388;&#30340;&#20301;&#32622;&#31216;&#20026;<a name="(tech._~e5~9b~9e~e5~bb~8a~ef~bc~88cloister~ef~bc~89)"></a><span style="font-style: italic">&#22238;&#24266;&#65288;cloister&#65289;</span>&#12290;&#20320;&#21487;&#20197;&#25226;&#20462;&#39280;&#31526;&#25918;&#22312;&#36825;&#20799;&#65292;&#26377;&#21487;&#33021;&#20250;&#20351;&#31751;<a href="#%28tech._~e5~ad~90~e6~a8~a1~e5~bc~8f~ef~bc~88subpattern~ef~bc~89%29" class="techoutside" data-pltdoc="x"><span class="techinside">&#23376;&#27169;&#24335;&#65288;subpattern&#65289;</span></a>&#34987;&#29305;&#21035;&#22788;&#29702;&#12290;&#36825;&#20010;&#20462;&#39280;&#31526;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">i</span><span class="hspace"></span></span>&#20351;&#23376;&#27169;&#24335;&#21305;&#37197;&#26102;&#19981;&#21306;&#20998;&#22823;&#23567;&#20889;&#65306;</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>&#26415;&#35821;<span style="font-style: italic">&#22238;&#24266;&#65288;cloister&#65289;</span>&#26159;&#19968;&#20010;&#26377;&#29992;&#30340;&#65292;&#22914;&#26524;&#26368;&#32456;&#30340;&#21487;&#29233;&#65292;&#20174;Perl&#30340;&#20303;&#25345;&#21019;&#36896;&#30340;&#35789;&#35821;&#12290;</p></blockquote></blockquote></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"(?i:hearth)"</span><span class="hspace">&nbsp;</span><span class="RktVal">"HeartH"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("HeartH")</span></p></td></tr></table></blockquote><p>&#20462;&#39280;&#31526;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">m</span><span class="hspace"></span></span>&#20351;<font class="badlink"><span class="techoutside"><span class="techinside">&#23376;&#27169;&#24335;subpattern&#65289;</span></span></font>&#22312;<a name="(tech._~e5~a4~9a~e8~a1~8c~e6~a8~a1~e5~bc~8f~ef~bc~88multi._line._mode~ef~bc~89)"></a><span style="font-style: italic">&#22810;&#34892;&#27169;&#24335;&#65288;multi-line mode&#65289;</span>&#21305;&#37197;&#65292;&#22312;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">.</span><span class="hspace"></span></span>&#30340;&#20301;&#32622;&#19981;&#21305;&#37197;&#25442;&#34892;&#31526;&#65292;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">^</span><span class="hspace"></span></span>&#20165;&#22312;&#19968;&#20010;&#26032;&#34892;&#21518;&#21487;&#20197;&#21305;&#37197;&#65292;&#32780;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">$</span><span class="hspace"></span></span>&#20165;&#22312;&#19968;&#20010;&#26032;&#34892;&#21069;&#21487;&#20197;&#21305;&#37197;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"."</span><span class="hspace">&nbsp;</span><span class="RktVal">"\na\n"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("\n")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"(?m:.)"</span><span class="hspace">&nbsp;</span><span class="RktVal">"\na\n"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("a")</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"^A plan$"</span><span class="hspace">&nbsp;</span><span class="RktVal">"A man\nA plan\nA canal"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"(?m:^A plan$)"</span><span class="hspace">&nbsp;</span><span class="RktVal">"A man\nA plan\nA canal"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("A plan")</span></p></td></tr></table></blockquote><p>&#20320;&#21487;&#20197;&#22312;&#22238;&#24266;&#37324;&#25918;&#32622;&#22810;&#20010;&#20462;&#39280;&#31526;&#65306;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"(?mi:^A Plan$)"</span><span class="hspace">&nbsp;</span><span class="RktVal">"a man\na plan\na canal"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'("a plan")</span></p></td></tr></table></blockquote><p>&#22312;&#20462;&#39280;&#31526;&#21069;&#30340;&#19968;&#20010;&#20943;&#21495;&#21453;&#36716;&#23427;&#30340;&#24847;&#24605;&#12290;&#22240;&#27492;&#65292;&#20320;&#21487;&#20197;&#22312;<a name="(tech._~e5~ad~90~e7~b1~bb~ef~bc~88subcluster~ef~bc~89)"></a><span style="font-style: italic">&#23376;&#31867;&#65288;subcluster&#65289;</span>&#20013;&#20351;&#29992;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">-i</span><span class="hspace"></span></span>&#20197;&#32763;&#36716;&#26696;&#20363;&#19981;&#30001;&#23553;&#38381;&#31751;&#36896;&#23548;&#33268;&#12290;</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">regexp-match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#rx"(?i:the (?-i:TeX)book)"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"The TeXbook"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'("The TeXbook")</span></p></td></tr></table></blockquote><p>&#19978;&#36848;&#27491;&#34920;&#36798;&#24335;&#23558;&#20801;&#35768;&#20219;&#20309;&#38024;&#23545;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">the</span><span class="hspace"></span></span>&#21644;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">book</span><span class="hspace"></span></span>&#30340;&#22806;&#22771;&#65292;&#20294;&#23427;&#22362;&#25345;&#35748;&#20026;<span class="RktInBG"><span class="hspace"></span><span class="RktIn">TeX</span><span class="hspace"></span></span>&#26377;&#19981;&#21516;&#30340;&#21253;&#35013;&#12290;</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="regexp-quant.html" title="backward to &quot;9.5 量词&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="regexp.html" title="up to &quot;9 正则表达式&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="regexp-alternation.html" title="forward to &quot;9.7 替代&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>