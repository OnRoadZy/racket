<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>14.7&nbsp;unit versus module</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Racket&#25351;&#21335;</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="intro.html" class="tocviewlink" data-pltdoc="x">Racket&#35821;&#35328;&#27426;&#36814;&#20320;!</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="to-scheme.html" class="tocviewlink" data-pltdoc="x">Racket Essentials</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="datatypes.html" class="tocviewlink" data-pltdoc="x">Built-<wbr></wbr>In Datatypes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="scheme-forms.html" class="tocviewlink" data-pltdoc="x">Expressions and Definitions</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="define-struct.html" class="tocviewlink" data-pltdoc="x">Programmer-<wbr></wbr>Defined Datatypes</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="modules.html" class="tocviewlink" data-pltdoc="x">Modules</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="contracts.html" class="tocviewlink" data-pltdoc="x">Contracts</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="i_o.html" class="tocviewlink" data-pltdoc="x">Input and Output</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="regexp.html" class="tocviewlink" data-pltdoc="x">Regular Expressions</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="control.html" class="tocviewlink" data-pltdoc="x">Exceptions and Control</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="for.html" class="tocviewlink" data-pltdoc="x">Iterations and Comprehensions</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="match.html" class="tocviewlink" data-pltdoc="x">Pattern Matching</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="classes.html" class="tocviewlink" data-pltdoc="x">Classes and Objects</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="units.html" class="tocviewselflink" data-pltdoc="x">Units</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="reflection.html" class="tocviewlink" data-pltdoc="x">Reflection and Dynamic Evaluation</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="macros.html" class="tocviewlink" data-pltdoc="x">Macros</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="languages.html" class="tocviewlink" data-pltdoc="x">&#21019;&#36896;&#35821;&#35328;</a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" data-pltdoc="x">&#24182;&#21457;&#19982;&#21516;&#27493;</a></td></tr><tr><td align="right">19&nbsp;</td><td><a href="performance.html" class="tocviewlink" data-pltdoc="x">&#24615;&#33021;</a></td></tr><tr><td align="right">20&nbsp;</td><td><a href="parallelism.html" class="tocviewlink" data-pltdoc="x">&#24182;&#34892;</a></td></tr><tr><td align="right">21&nbsp;</td><td><a href="running.html" class="tocviewlink" data-pltdoc="x">&#36816;&#34892;&#21644;&#21019;&#24314;&#21487;&#25191;&#34892;&#31243;&#24207;</a></td></tr><tr><td align="right">22&nbsp;</td><td><a href="____.html" class="tocviewlink" data-pltdoc="x">&#26356;&#22810;&#30340;&#24211;</a></td></tr><tr><td align="right">23&nbsp;</td><td><a href="dialects.html" class="tocviewlink" data-pltdoc="x">Dialects of Racket and Scheme</a></td></tr><tr><td align="right">24&nbsp;</td><td><a href="other-editors.html" class="tocviewlink" data-pltdoc="x">Command-<wbr></wbr>Line Tools and Your Editor of Choice</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>14&nbsp;</td><td><a href="units.html" class="tocviewlink" data-pltdoc="x">Units</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">14.1&nbsp;</td><td><a href="Signatures_and_Units.html" class="tocviewlink" data-pltdoc="x">Signatures and Units</a></td></tr><tr><td align="right">14.2&nbsp;</td><td><a href="Invoking_Units.html" class="tocviewlink" data-pltdoc="x">Invoking Units</a></td></tr><tr><td align="right">14.3&nbsp;</td><td><a href="Linking_Units.html" class="tocviewlink" data-pltdoc="x">Linking Units</a></td></tr><tr><td align="right">14.4&nbsp;</td><td><a href="firstclassunits.html" class="tocviewlink" data-pltdoc="x">First-<wbr></wbr>Class Units</a></td></tr><tr><td align="right">14.5&nbsp;</td><td><a href="Whole-module_Signatures_and_Units.html" class="tocviewlink" data-pltdoc="x">Whole-<span class="RktSym"><span class="badlink"><span class="RktValLink">module</span></span></span> Signatures and Units</a></td></tr><tr><td align="right">14.6&nbsp;</td><td><a href="Contracts_for_Units.html" class="tocviewlink" data-pltdoc="x">Contracts for Units</a></td></tr><tr><td align="right">14.7&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">unit</span></span></span> versus <span class="RktSym"><span class="badlink"><span class="RktValLink">module</span></span></span></a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="Contracts_for_Units.html" title="backward to &quot;14.6 Contracts for Units&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="units.html" title="up to &quot;14 Units (Components)&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="reflection.html" title="forward to &quot;15 Reflection and Dynamic Evaluation&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>14.7<tt>&nbsp;</tt><a name="(part._unit_versus_module)"></a><span class="RktSym"><span class="badlink"><span class="RktValLink">unit</span></span></span> versus <span class="RktSym"><span class="badlink"><span class="RktValLink">module</span></span></span></h4><p>As a form for modularity, <span class="RktSym"><span class="badlink"><span class="RktValLink">unit</span></span></span> complements <span class="RktSym"><span class="badlink"><span class="RktValLink">module</span></span></span>:</p><ul><li><p>The <span class="RktSym"><span class="badlink"><span class="RktValLink">module</span></span></span> form is primarily for managing a universal
namespace. For example, it allows a code fragment to refer
specifically to the <span class="RktSym"><span class="badlink"><span class="RktValLink">car</span></span></span> operation from
<font class="badlink"><span class="RktModLink"><span class="RktSym">racket/base</span></span></font>&#8212;<wbr></wbr>the one that extracts the first
element of an instance of the built-in pair datatype&#8212;<wbr></wbr>as
opposed to any number of other functions with the name
<span class="RktSym"><span class="badlink"><span class="RktValLink">car</span></span></span>. In other words, the <span class="RktSym"><span class="badlink"><span class="RktValLink">module</span></span></span> construct lets
you refer to <span style="font-style: italic">the</span> binding that you want.</p></li><li><p>The <span class="RktSym"><span class="badlink"><span class="RktValLink">unit</span></span></span> form is for parameterizing a code fragment
with respect to most any kind of run-time value. For example,
it allows a code fragment to work with a <span class="RktSym"><span class="badlink"><span class="RktValLink">car</span></span></span>
function that accepts a single argument, where the specific
function is determined later by linking the fragment to
another. In other words, the <span class="RktSym"><span class="badlink"><span class="RktValLink">unit</span></span></span> construct lets you
refer to <span style="font-style: italic">a</span> binding that meets some specification.</p></li></ul><p>The <span class="RktSym"><span class="badlink"><span class="RktValLink">lambda</span></span></span> and <span class="RktSym"><span class="badlink"><span class="RktValLink">class</span></span></span> forms, among others, also allow
parameterization of code with respect to values that are chosen
later. In principle, any of those could be implemented in terms of any
of the others. In practice, each form offers certain
conveniences&#8212;<wbr></wbr>such as allowing overriding of methods or especially
simple application to values&#8212;<wbr></wbr>that make them suitable for different
purposes.</p><p>The <span class="RktSym"><span class="badlink"><span class="RktValLink">module</span></span></span> form is more fundamental than the others, in a
sense. After all, a program fragment cannot reliably refer to a
<span class="RktSym"><span class="badlink"><span class="RktValLink">lambda</span></span></span>, <span class="RktSym"><span class="badlink"><span class="RktValLink">class</span></span></span>, or <span class="RktSym"><span class="badlink"><span class="RktValLink">unit</span></span></span> form without the
namespace management provided by <span class="RktSym"><span class="badlink"><span class="RktValLink">module</span></span></span>. At the same time,
because namespace management is closely related to separate expansion
and compilation, <span class="RktSym"><span class="badlink"><span class="RktValLink">module</span></span></span> boundaries end up as
separate-compilation boundaries in a way that prohibits mutual
dependencies among fragments. For similar reasons, <span class="RktSym"><span class="badlink"><span class="RktValLink">module</span></span></span>
does not separate interface from implementation.</p><p>Use <span class="RktSym"><span class="badlink"><span class="RktValLink">unit</span></span></span> when <span class="RktSym"><span class="badlink"><span class="RktValLink">module</span></span></span> by itself almost works, but
when separately compiled pieces must refer to each other, or when you
want a stronger separation between <span style="font-style: italic">interface</span> (i.e., the
parts that need to be known at expansion and compilation time) and
<span style="font-style: italic">implementation</span> (i.e., the run-time parts). More generally,
use <span class="RktSym"><span class="badlink"><span class="RktValLink">unit</span></span></span> when you need to parameterize code over functions,
datatypes, and classes, and when the parameterized code itself
provides definitions to be linked with other parameterized code.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="Contracts_for_Units.html" title="backward to &quot;14.6 Contracts for Units&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="units.html" title="up to &quot;14 Units (Components)&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="reflection.html" title="forward to &quot;15 Reflection and Dynamic Evaluation&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>